function addExtraButton(){var t=document.getElementById("watch8-secondary-actions");if("undefined"!=typeof t&&null!=t){var o=document.createElement("div");o.className="yt-uix-menu";var e=document.createElement("button");e.title="Add to MotorBot",e.id="action-panel-overflow-button-motorbot",e.className="yt-uix-button yt-uix-button-size-default yt-uix-button-has-icon yt-uix-button-opacity pause-resume-autoplay yt-uix-menu-trigger yt-uix-tooltip motorbot",e.type="button",e.innerHTML="<span class=\"yt-uix-button-content\" style='vertical-align: middle;'>MotorBot</span> <style type='text/css'>.motorbot{opacity: 0.5; cursor: pointer; font-family: Roboto,arial,sans-serif; font-size: 11px; font-style: normal; font-weight: 500;} .motorbot:before{content:''; background-image:url('"+chrome.extension.getURL("icon_20x20.png")+"'); background-size: cover; height: 20px; width: 20px; margin-left: 6px; margin-right: 6px; display: inline-block; vertical-align: middle;}</style>",o.appendChild(e),document.getElementById("watch8-secondary-actions").appendChild(o),document.getElementById("action-panel-overflow-button-motorbot").addEventListener("click",function(t){$("#action-panel-overflow-button-motorbot").attr("disabled","true").css("opacity","1").html("<div class='loader'></div> <style type='text/css'>.loader{width: 11px; height: 11px; border: 2px solid transparent; border-top-color: rgba(22, 122, 198, 1.00); border-left-color: rgba(22, 122, 198, 1.00); border-radius: 50%; box-sizing: border-box; display: inline-block; margin-left: 8px; vertical-align: middle; animation: spinner 0.5s infinite linear} @keyframes spinner{0%{transform: rotate(0deg)} 100%{transform: rotate(360deg);}} .motorbot{opacity: 1; cursor: pointer; font-family: Roboto,arial,sans-serif; font-size: 11px; font-style: normal; font-weight: 500;} .motorbot:before{content:''; opacity: 0.5; background-image:url('"+chrome.extension.getURL("icon_20x20.png")+"'); background-size: cover; height: 20px; width: 20px; margin-left: 6px; margin-right: 6px; display: inline-block; vertical-align: middle;}</style>");var o=getParameterByName("v",window.location.href);""!=o&&null!=o&&"undefined"!=o&&$.ajax({url:"https://mb.lolstat.net/api/playlist/"+o,type:"GET",dataType:"json",success:function(t){t.added&&$("#action-panel-overflow-button-motorbot").attr("disabled","true").css("opacity","1").html("<span class=\"yt-uix-button-content\" style='color: rgba(46, 177, 111, 1.00); vertical-align: middle;'>Added</span> <style type='text/css'>.motorbot{opacity: 1; cursor: pointer; font-family: Roboto,arial,sans-serif; font-size: 11px; font-style: normal; font-weight: 500;} .motorbot:before{content:''; opacity: 0.5; background-image:url('"+chrome.extension.getURL("icon_20x20.png")+"'); background-size: cover; height: 20px; width: 20px; margin-left: 4px; margin-right: 6px; display: inline-block; vertical-align: middle;}</style>")},error:function(t){$("#action-panel-overflow-button-motorbot").attr("disabled","true").css("opacity","1").html("<span class=\"yt-uix-button-content\" style='color: rgba(230, 33, 23, 1.00); vertical-align: middle;'>Error</span> <style type='text/css'>.motorbot{opacity: 1; cursor: pointer; font-family: Roboto,arial,sans-serif; font-size: 11px; font-style: normal; font-weight: 500;} .motorbot:before{content:''; opacity: 0.5; background-image:url('"+chrome.extension.getURL("icon_20x20.png")+"'); background-size: cover; height: 20px; width: 20px; margin-left: 4px; margin-right: 6px; display: inline-block; vertical-align: middle;}</style>"),console.error("Error Occured Sending Video to motorbot: "+t)}})})}}function getParameterByName(t,o){o||(o=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var e=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),n=e.exec(o);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var target=document.getElementsByTagName("body")[0],observer=new MutationObserver(function(t){t.forEach(function(t){var o=document.getElementById("action-panel-overflow-button-motorbot");null==o&&addExtraButton()})});observer.observe(target,{attributes:!1,childList:!0,characterData:!1}),addExtraButton();
